<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xf="http://www.w3.org/2002/xforms"
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
      xmlns:ev="http://www.w3.org/2001/xml-events">
    <head>
        <title>
         <xf:output model="data_model"
                    ref="instance('localized_strings')/form.title[@lang=instance('localized_strings')/current_language]"/>
      </title>

        <xf:model id="submission_model" schema="#fb-schema">
            <xf:instance xmlns="" id="data-instance">
                <data>
                    <form_id>template_id</form_id>
                <First_name_fbc_5 mapping="string:ownerFirstName"/>
               <Last_name_fbc_6 mapping="string:ownerLastName"/>
               <Defendant_name_fbc_7 mapping="string:defendantName"/>

               <Case_info_fbc_10 mapping="string:ownerCaseInformation"/>
               <Add_One_fbc_11 mapping="files:ownerAttachments">
                  <entry filename="" mediatype=""/>
               </Add_One_fbc_11>
            </data>
            </xf:instance>            
            <xf:submission action="xformsBPM:/nouri" id="submit_data_submission" method="post"
                        replace="none"/>
        <xf:bind id="bind.fbc_5" nodeset="First_name_fbc_5" type="string"/>
         <xf:bind id="bind.fbc_6" nodeset="Last_name_fbc_6" type="string"/>
         <xf:bind id="bind.fbc_7" nodeset="Defendant_name_fbc_7" type="string"/>


         <xf:bind id="bind.fbc_10" nodeset="Case_info_fbc_10" type="string"/>
         <xf:bind id="bind.fbc_11" nodeset="Add_One_fbc_11/entry" type="anyURI"/>
      </xf:model>
        <xf:model id="data_model">
            <xf:instance xmlns="" id="localized_strings">
                  <localized_strings>
                        <default_language>en</default_language>
                       <current_language>en</current_language>
                       <form.title lang="en">Submit new case</form.title>
                       <page-1.label lang="en">First section</page-1.label>
                       <page-2.label lang="en">Submitted</page-2.label>
                       <page-1-submit.label lang="en">Submit</page-1-submit.label>
                       <page-2.info lang="en">Form submitted, thank You!</page-2.info>
                    <fbc_5.title lang="is">Simple text input</fbc_5.title>
               <fbc_5.title lang="en">First name</fbc_5.title>
               <fbc_6.title lang="is">Simple text input</fbc_6.title>
               <fbc_6.title lang="en">Last name</fbc_6.title>
               <fbc_7.title lang="is">Simple text input</fbc_7.title>
               <fbc_7.title lang="en">Defendant name</fbc_7.title>




               <fbc_10.title lang="is">Paragraph text input</fbc_10.title>
               <fbc_10.title lang="en">Case info</fbc_10.title>
               <fbc_11.label lang="is">Add One</fbc_11.label>
               <fbc_11.label lang="en">Add One</fbc_11.label>
               <fbc_11.remove lang="is">Remove</fbc_11.remove>
               <fbc_11.remove lang="en">Remove</fbc_11.remove>
            </localized_strings>
            </xf:instance>
          </xf:model>
        <xs:schema id="fb-schema">
        </xs:schema>
    </head>
    <body>
        <xf:group appearance="full">
            <xf:switch>
                  <xf:case id="fbc_1">
                        <xf:group appearance="full">
                            <xf:label model="data_model"
                            ref="instance('localized_strings')/page-1.label[@lang=instance('localized_strings')/current_language]"/>
                            <xf:input bind="bind.fbc_5" id="fbc_5">
                     <xf:label model="data_model"
                               ref="instance('localized_strings')/fbc_5.title[@lang=instance('localized_strings')/current_language]"/>
                  </xf:input>
                  <xf:input bind="bind.fbc_6" id="fbc_6">
                     <xf:label model="data_model"
                               ref="instance('localized_strings')/fbc_6.title[@lang=instance('localized_strings')/current_language]"/>
                  </xf:input>
                  <xf:input bind="bind.fbc_7" id="fbc_7">
                     <xf:label model="data_model"
                               ref="instance('localized_strings')/fbc_7.title[@lang=instance('localized_strings')/current_language]"/>
                  </xf:input>


                  <xf:textarea bind="bind.fbc_10" id="fbc_10">
                     <xf:label model="data_model"
                               ref="instance('localized_strings')/fbc_10.title[@lang=instance('localized_strings')/current_language]"/>
                  </xf:textarea>
                  <xf:group appearance="full" bind="bind.fbc_11" id="fbc_11">
                     <xf:trigger>
                        <xf:label model="data_model"
                                  ref="instance('localized_strings')/fbc_11.label[@lang=instance('localized_strings')/current_language]"/>
                        <xf:action>
                           <xf:insert at="last()" nodeset="instance('data-instance')/Add_One_fbc_11/entry"
                                      position="after"/>
                        </xf:action>
                     </xf:trigger>
                     <xf:repeat appearance="full" bind="bind.fbc_11" id="upload_entries_fbc_11">
                        <xf:output value="count(preceding-sibling::entry) + 1"/>
                        <xf:upload ref=".">
                           <xf:filename ref="@filename"/>
                           <xf:mediatype ref="@mediatype"/>
                        </xf:upload>
                        <xf:trigger>
                           <xf:label model="data_model"
                                     ref="instance('localized_strings')/fbc_11.remove[@lang=instance('localized_strings')/current_language]"/>
                           <xf:action>
                              <xf:delete at="index('upload_entries_fbc_11')"
                                         nodeset="instance('data-instance')/Add_One_fbc_11/entry"/>
                           </xf:action>
                        </xf:trigger>
                     </xf:repeat>
                  </xf:group>
                  <div class="fbc_button_area" id="fbc_2" name="fbc_button_area">
                                  <xf:trigger class="fbc_button_submit" id="fbc_3" name="fbc_button_submit">
                                        <xf:label model="data_model"
                                  ref="instance('localized_strings')/page-1-submit.label[@lang=instance('localized_strings')/current_language]"/>
                                        <xf:send submission="submit_data_submission"/>
                            <xf:toggle case="fbc_4" ev:event="DOMActivate"/>
                        </xf:trigger>
                            </div>
                        </xf:group>
                  </xf:case>
                  <xf:case id="fbc_4" name="thx_page">
                        <xf:group appearance="full">
                            <xf:label model="data_model"
                            ref="instance('localized_strings')/page-2.label[@lang=instance('localized_strings')/current_language]"/>
                            <xf:output model="data_model"
                             ref="instance('localized_strings')/page-2.info[@lang=instance('localized_strings')/current_language]"/>
                        </xf:group>
                  </xf:case>
            </xf:switch>
        </xf:group>
    </body>
</html>