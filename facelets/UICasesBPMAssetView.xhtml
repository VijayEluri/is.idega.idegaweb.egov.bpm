<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<div
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:jp="http://xmlns.idega.com/org.jboss.jbpm"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:t="http://myfaces.apache.org/tomahawk"
>

	
	<ui:composition template="#{IWURIResource.res['/idegaweb/bundles/is.idega.idegaweb.egov.bpm.bundle/facelets/UICasesBPMAssetsTemplate.xhtml']}">

	<ui:define name="title">
		Task view
	</ui:define>
	<ui:define name="actions">
		<div>
			<h:commandLink value="Back to case overview" action="#{casesBPMAssetsState.showAssets}" immediate="true" />
		</div>
	</ui:define>
	<ui:define name="content">
		<div class="assetView">
			<div class="left">
				<div class="assetSection">
					<div class="assetHeader">
						Task summary
					</div>
					<div class="assetContent">
						<div class="assetEntry">
							<div class="assetEntryLeft">
								Name
							</div>
							<div class="assetEntryRight">
								#{casesBPMAssetsState.taskView.taskName}
							</div>
						</div>
						<div class="assetEntry">
							<div class="assetEntryLeft">
								Status
							</div>
							<div class="assetEntryRight">
								#{casesBPMAssetsState.taskView.taskStatus}
							</div>
						</div>
						<div class="assetEntry">
							<div class="assetEntryLeft">
								Taken by
							</div>
							<div class="assetEntryRight">
								#{casesBPMAssetsState.taskView.assignedTo}
							</div>
						</div>
						<div class="assetEntry">
							<div class="assetEntryLeft">
								Time created
							</div>
							<div class="assetEntryRight">
								#{casesBPMAssetsState.taskView.createdDate}
							</div>
						</div>
					</div>
				</div>	
				
				<div class="assetSection">
					<div class="assetHeader">
						Views
					</div>
					<div class="assetContent">
						<div class="assetEntry">
							<span class="selected">
								<b>
								Task form
								</b>
							</span>
						</div>
						<div class="assetEntry">
							Comments
						</div>
					</div>
				</div>			
				
				<div class="assetSection">
					<div class="assetHeader">
						Actions
					</div>
					<div class="assetContent">
					
					    <t:div rendered="#{casesBPMAssetsState.canStartTask}" styleClass="assetEntry">
						  <h:commandLink value="Start task" action="#{casesBPMAssetsState.startTask}" />
						</t:div>
						<t:div rendered="#{casesBPMAssetsState.canTakeTask}" styleClass="assetEntry">
						  <h:commandLink value="Take task" action="#{casesBPMAssetsState.assignTask}" />
						</t:div>
						<div class="assetEntry">
						  Assign task
						</div>
					</div>
				</div>
			</div>
			<div class="right">
				<jp:BPMTaskViewer taskInstanceId="#{casesBPMAssetsState.viewSelected}" />
			</div>
		</div>
	</ui:define>
	</ui:composition>
</div>